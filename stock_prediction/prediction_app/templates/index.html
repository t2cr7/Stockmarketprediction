<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Market Predictor</title>
    <link rel="stylesheet" href="{% static 'indstyle.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="wrapper">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-users"></i> Stocks</h2>
            </div>
            <div class="sidebar-welcome">
                <p><i class="fas fa-user"></i> Welcome</p>
                <span>Guest</span>
            </div>
            <ul class="nav-links">
                <li><a href="{% url 'index' %}"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="{% url 'about' %}"><i class="fas fa-info-circle"></i> About us</a></li>
                <li><a href="{% url 'tickers_info' %}"><i class="fas fa-list"></i> Ticker Info</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <header>
                <h1><i class="fas fa-chart-line"></i> Stock Market Predictor</h1>
            </header>

            <!-- Prediction Form -->
            <main>
                  <form action="{% url 'insertintotable' %}" method="post" id="predictForm">
            {% csrf_token %}
            <div>
                <label for="nm">Enter Stock Symbol:</label>
                <input type="text" name="nm" id="nm" placeholder="e.g. AAPL, GOOG, TSLA" required>
            </div>
            <button type="submit" id="submitBtn">Predict</button>
        </form>
        <div id="loading" class="loading-spinner" style="display:none;">
    <div class="spinner"></div>
    <p>Loading...</p>
</div>
        <!-- Embedded Online Stock Market Animation (GIF) -->
                <div class="stock-animation">
                <center>
                     <video width="480" height="480" autoplay loop muted>
            <source src="{% static 'stk.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
                </center>
                </div>
            </main>
        </div>
    </div>
     <!-- Footer -->
        <footer>
            <div class="footer-content">
                <p>Â© 2024 Stock Market Predictor. All Rights Reserved.</p>
                <p>Developed by <strong><a href="https://www.linkedin.com/in/shubham-kumbhkar-860abc">Shubham Kumbhkar</a></strong></p>
            </div>
        </footer>
    </div>
    <script>
        // Show loading spinner on form submit
        document.getElementById("predictForm").onsubmit = function() {
            document.getElementById("submitBtn").style.display = "none"; // Hide submit button
            document.getElementById("loading").style.display = "block";  // Show loading spinner
        };
    </script>

   <style>
        /* Styling for footer to keep it at the bottom */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .wrapper {
            min-height: 100%;
            display: flex;
            flex-direction: column;
        }

        .main-content {
            flex: 1;
        }

        footer {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px 0;
            text-align: center;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        footer p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        footer strong {
            font-weight: 600;
        }
        .loading-spinner {
    position: fixed; /* Make it fixed to the entire viewport */
    top: 50%; /* Vertically center */
    left: 50%; /* Horizontally center */
    transform: translate(-50%, -50%); /* Center the element exactly */
    text-align: center;
    z-index: 9999; /* Ensure it stays on top */
}

.spinner {
    border: 16px solid #f3f3f3; /* Light grey */
    border-top: 16px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 60px;
    height: 60px;
    animation: spin 2s linear infinite;
    display: inline-block;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
    </style>
</body>
</html>
